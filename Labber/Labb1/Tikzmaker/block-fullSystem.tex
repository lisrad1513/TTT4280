\begin{figure}[H]
\centering
\resizebox{1\textwidth}{!}{%
\begin{circuitikz}
\tikzstyle{every node}=[font=\normalsize]
\draw  (-2.5,13.25) rectangle  node {\large \text{Pi Wedge}} (1.25,10.75);
\draw (-1.25,10.75) to (-1.25,10) node[ground]{};
\draw [ color={rgb,255:red,79; green,122; blue,40}, ](0,13.25) to[short] (0,13.75);
\draw [ color={rgb,255:red,148; green,33; blue,146}, ](-1.25,13.25) to[short] (-1.25,14.25);
\node [font=\normalsize] at (0,13) {G19};
\node [font=\normalsize] at (-1.25,13) {G18};
\node [font=\normalsize] at (-1.25,11) {GND};
\node [font=\normalsize] at (0,11) {3V3};
\node [font=\normalsize] at (0.85,12.75) {G12};
\node [font=\normalsize] at (0.85,12) {G21};
\node [font=\normalsize] at (0.85,11.25) {G27};
\draw  (7.5,20.5) rectangle  node {\Large \text{MCP3201}} (11.25,18);
\node [font=\normalsize] at (8,20.25) {$V_{DD}$};
\node [font=\normalsize] at (9,20.25) {CLK};
\node [font=\normalsize] at (10,20.25) {$D_{out}$};
\node [font=\normalsize] at (10.75,20.25) {$\overline{CS}$};
\node [font=\normalsize] at (8,18.25) {$V_{REF}$};
\node [font=\normalsize] at (9,18.25) {IN+};
\node [font=\normalsize] at (9.75,18.25) {IN-};
\node [font=\normalsize] at (10.75,18.25) {$V_{SS}$};
\draw (10.75,18) to (10.75,17.25) node[ground]{};
\draw  (-2.5,2.25) rectangle  node {\Large Analog Discovery 3} (2.25,0.25);
\draw  (1.25,18.25) rectangle  node {\large Raspberry Pi 3B} (-2.5,15.75);
\draw  (-2.5,23.25) rectangle  node {\large PC} (1.25,20.75);
\draw [ color={rgb,255:red,79; green,122; blue,40}, short] (0,13.75) -- (1.25,13.75)node[pos=0.5, fill=white]{CLK};
\draw [ color={rgb,255:red,148; green,33; blue,146}, short] (0,14.25) -- (1.25,14.25)node[pos=0.5, fill=white]{CS};
\draw [ color={rgb,255:red,148; green,33; blue,146}, short] (-1.25,14.25) -- (0,14.25);
\draw (9.75,18) to (9.75,17.25) node[ground]{};
\draw [->, >=Stealth] (9,16.75) -- (9,18);
\draw [short] (-1.25,13) -- (-1.25,13);
\draw [short] (-1.25,13) -- (-1.25,13);
\draw [ color={rgb,255:red,79; green,122; blue,40}, ->, >=Stealth] (9,21.75) -- (9,20.5);
\draw [ color={rgb,255:red,148; green,33; blue,146}, ->, >=Stealth] (10.75,21.75) -- (10.75,20.5);
\draw [<->, >=Stealth, dashed] (-0.5,18.25) -- (-0.5,20.75)node[pos=0.5, fill=white]{SSH};
\draw  (-2.5,7.25) rectangle  node {\large Lavpassfilter} (1.25,6);
\draw [short] (-2.5,17) -- (-3.75,17);
\draw [short] (-3.75,17) -- (-3.75,12);
\draw [->, >=Stealth] (-3.75,12) -- (-2.5,12);
\draw  (7.5,13) rectangle  node {\Large \text{MCP3201}} (11.25,10.5);
\node [font=\normalsize] at (8,12.75) {$V_{DD}$};
\node [font=\normalsize] at (9,12.75) {CLK};
\node [font=\normalsize] at (10,12.75) {$D_{out}$};
\node [font=\normalsize] at (10.75,12.75) {$\overline{CS}$};
\node [font=\normalsize] at (8,10.75) {$V_{REF}$};
\node [font=\normalsize] at (9,10.75) {IN+};
\node [font=\normalsize] at (9.75,10.75) {IN-};
\node [font=\normalsize] at (10.75,10.75) {$V_{SS}$};
\draw (10.75,10.5) to (10.75,9.75) node[ground]{};
\draw (9.75,10.5) to (9.75,9.75) node[ground]{};
\draw [->, >=Stealth] (9,9.25) -- (9,10.5);
\draw [ color={rgb,255:red,79; green,122; blue,40}, ->, >=Stealth] (9,14.25) -- (9,13);
\draw [ color={rgb,255:red,148; green,33; blue,146}, ->, >=Stealth] (10.75,14.25) -- (10.75,13);
\draw  (7.5,5.5) rectangle  node {\Large \text{MCP3201}} (11.25,3);
\node [font=\normalsize] at (8,5.25) {$V_{DD}$};
\node [font=\normalsize] at (9,5.25) {CLK};
\node [font=\normalsize] at (10,5.25) {$D_{out}$};
\node [font=\normalsize] at (10.75,5.25) {$\overline{CS}$};
\node [font=\normalsize] at (8,3.25) {$V_{REF}$};
\node [font=\normalsize] at (9,3.25) {IN+};
\node [font=\normalsize] at (9.75,3.25) {IN-};
\node [font=\normalsize] at (10.75,3.25) {$V_{SS}$};
\draw (10.75,3) to (10.75,2.25) node[ground]{};
\draw (9.75,3) to (9.75,2.25) node[ground]{};
\draw [->, >=Stealth] (9,1.75) -- (9,3);
\draw [ color={rgb,255:red,79; green,122; blue,40}, ->, >=Stealth] (9,6.75) -- (9,5.5);
\draw [ color={rgb,255:red,148; green,33; blue,146}, ->, >=Stealth] (10.75,6.75) -- (10.75,5.5);
\draw [ color={rgb,255:red,255; green,38; blue,0}, ->, >=Stealth] (8,14.25) -- (8,13);
\draw [ color={rgb,255:red,255; green,38; blue,0}, ->, >=Stealth] (8,6.75) -- (8,5.5);
\draw [ color={rgb,255:red,255; green,38; blue,0}, ->, >=Stealth] (8,1.75) -- (8,3);
\draw [ color={rgb,255:red,255; green,38; blue,0}, ->, >=Stealth] (8,9.25) -- (8,10.5);
\draw [ color={rgb,255:red,255; green,38; blue,0}, ->, >=Stealth] (8,16.75) -- (8,18);
\draw [ color={rgb,255:red,255; green,38; blue,0}, ->, >=Stealth] (8,21.75) -- (8,20.5);
\draw [ color={rgb,255:red,255; green,38; blue,0}, short] (8,14.25) -- (6.75,14.25);
\draw [ color={rgb,255:red,255; green,38; blue,0}, short] (8,6.75) -- (6.75,6.75);
\draw [ color={rgb,255:red,255; green,38; blue,0}, short] (8,21.75) -- (6.75,21.75);
\draw [ color={rgb,255:red,255; green,38; blue,0}, short] (8,16.75) -- (6.75,16.75);
\draw [ color={rgb,255:red,255; green,38; blue,0}, short] (8,9.25) -- (6.75,9.25);
\draw [ color={rgb,255:red,255; green,38; blue,0}, short] (8,1.75) -- (6.75,1.75);
\draw [ color={rgb,255:red,255; green,38; blue,0}, short] (6.75,1.75) -- (6.75,21.75);
\draw [ color={rgb,255:red,79; green,122; blue,40}, ](9,21.75) to[short] (9,22.25);
\draw [ color={rgb,255:red,79; green,122; blue,40}, ](9,22.25) to[short] (6.25,22.25);
\draw [ color={rgb,255:red,79; green,122; blue,40}, ](9,14.25) to[short] (9,14.75);
\draw [ color={rgb,255:red,79; green,122; blue,40}, ](9,14.75) to[short] (7.25,14.75);
\draw [ color={rgb,255:red,79; green,122; blue,40}, ](6.25,14.75) to[crossing] (7.25,14.75);
\draw [ color={rgb,255:red,79; green,122; blue,40}, ](9,6.75) to[short] (9,7.25);
\draw [ color={rgb,255:red,79; green,122; blue,40}, ](9,7.25) to[short] (7,7.25);
\draw [ color={rgb,255:red,102; green,156; blue,53}, ](6.25,22.25) to[short] (6.25,7.25);
\draw [ color={rgb,255:red,79; green,122; blue,40}, ](6.25,7.25) to[crossing] (7.25,7.25);
\draw [ color={rgb,255:red,255; green,147; blue,0}, ](10,5.5) to[short] (10,7.75);
\draw [ color={rgb,255:red,255; green,147; blue,0}, ](10,7.75) to[short] (7,7.75);
\draw [ color={rgb,255:red,255; green,147; blue,0}, ](6.5,7.75) to[crossing] (7,7.75);
\draw [ color={rgb,255:red,255; green,147; blue,0}, ](6,7.75) to[crossing] (6.5,7.75);
\draw [ color={rgb,255:red,255; green,147; blue,0}, ](5.25,8.5) to[short] (5.25,7.75);
\draw [ color={rgb,255:red,255; green,147; blue,0}, ](6,7.75) to[short] (5.25,7.75);
\draw [ color={rgb,255:red,255; green,147; blue,0}, ](10,13) to[short] (10,15.25);
\draw [ color={rgb,255:red,255; green,147; blue,0}, ](10,15.25) to[short] (7,15.25);
\draw [ color={rgb,255:red,255; green,147; blue,0}, ](6.5,15.25) to[crossing] (7,15.25);
\draw [ color={rgb,255:red,255; green,147; blue,0}, ](6,15.25) to[crossing] (6.5,15.25);
\draw [ color={rgb,255:red,79; green,122; blue,40}, ](1.25,13.75) to[short] (6.25,13.75);
\draw [ color={rgb,255:red,148; green,33; blue,146}, ](10.75,14.25) to[short] (10.75,15.75);
\draw [ color={rgb,255:red,148; green,33; blue,146}, ](10.75,15.75) to[short] (7,15.75);
\draw [ color={rgb,255:red,148; green,33; blue,146}, ](10.75,6.75) to[short] (10.75,8.25);
\draw [ color={rgb,255:red,148; green,33; blue,146}, ](10.75,8.25) to[short] (7,8.25);
\draw [ color={rgb,255:red,148; green,33; blue,146}, ](6.5,8.25) to[crossing] (7,8.25);
\draw [ color={rgb,255:red,148; green,33; blue,146}, ](6,8.25) to[crossing] (6.5,8.25);
\draw [ color={rgb,255:red,148; green,33; blue,146}, ](6.5,15.75) to[crossing] (7,15.75);
\draw [ color={rgb,255:red,148; green,33; blue,146}, ](6,15.75) to[crossing] (6.5,15.75);
\draw [ color={rgb,255:red,148; green,33; blue,146}, ](1.25,14.25) to[short] (5.75,14.25);
\draw [ color={rgb,255:red,255; green,147; blue,0}, ](5.5,15.25) to[crossing] (6,15.25);
\draw [ color={rgb,255:red,255; green,147; blue,0}, ](10,20.5) to[short] (10,22.75);
\draw [ color={rgb,255:red,255; green,147; blue,0}, ](10,22.75) to[short] (6,22.75);
\draw [ color={rgb,255:red,148; green,33; blue,146}, ](10.75,21.75) to[short] (10.75,23.25);
\draw [ color={rgb,255:red,148; green,33; blue,146}, ](10.75,23.25) to[short] (5.75,23.25);
\draw [ color={rgb,255:red,255; green,147; blue,0}, ](5.5,22.75) to[crossing] (6,22.75);
\draw [ color={rgb,255:red,255; green,147; blue,0}, ](4.75,22.75) to[short] (5.5,22.75);
\draw (9,9.25) to[short] (9,8.75);
\draw (9,16.75) to[short] (9,16.25);
\draw (9,1.75) to[short] (9,1.25);
\draw [ color={rgb,255:red,255; green,147; blue,0}, ](5.25,11.25) to[short] (5.25,8.5);
\draw [ color={rgb,255:red,148; green,33; blue,146}, ](5.75,14.25) to[short] (5.75,23.25);
\draw [ color={rgb,255:red,255; green,147; blue,0}, ](5.25,12) to[short] (5.25,13.5);
\draw [ color={rgb,255:red,255; green,147; blue,0}, ](5.25,14) to[crossing] (5.25,13.5);
\draw [ color={rgb,255:red,255; green,147; blue,0}, ](5.25,14.5) to[crossing] (5.25,14);
\draw [ color={rgb,255:red,255; green,147; blue,0}, ](5.25,14.5) to[short] (5.25,15.25);
\draw [ color={rgb,255:red,255; green,147; blue,0}, ](4.75,12.75) to[short] (4.75,13.5);
\draw [ color={rgb,255:red,255; green,147; blue,0}, ](4.75,14) to[crossing] (4.75,13.5);
\draw [ color={rgb,255:red,255; green,147; blue,0}, ](4.75,14.5) to[crossing] (4.75,14);
\draw [ color={rgb,255:red,255; green,147; blue,0}, ](4.75,14.5) to[short] (4.75,22.75);
\draw [short] (9,1.25) -- (2.25,1.25)node[pos=0.5, fill=white]{Analog Data};
\draw [ color={rgb,255:red,255; green,38; blue,0}, short] (6.75,6.75) -- (1.25,6.75);
\draw [ color={rgb,255:red,255; green,38; blue,0}, ->, >=Stealth] (0,10.75) -- (0,7.25);
\node at (6.75,6.75) [circ, color={rgb,255:red,255; green,38; blue,0}] {};
\node at (9,1.25) [circ] {};
\node at (6.75,9.25) [circ, color={rgb,255:red,255; green,38; blue,0}] {};
\node at (6.75,14.25) [circ, color={rgb,255:red,255; green,38; blue,0}] {};
\node at (6.75,16.75) [circ, color={rgb,255:red,255; green,38; blue,0}] {};
\node at (5.75,15.75) [circ, color={rgb,255:red,148; green,33; blue,146}] {};
\draw [ color={rgb,255:red,148; green,33; blue,146}, ](5.75,14.25) to[crossing] (5.75,13.25);
\draw [ color={rgb,255:red,148; green,33; blue,146}, ](5.75,13.25) to[short] (5.75,8.25);
\node at (5.75,8.25) [circ, color={rgb,255:red,148; green,33; blue,146}] {};
\draw (9,1.25) to[short] (12.5,1.25);
\draw (12.5,1.25) to[short] (12.5,16.25);
\draw (9,16.25) to[short] (12.5,16.25);
\draw (9,8.75) to[short] (12.5,8.75);
\node at (12.5,8.75) [circ] {};
\draw [ color={rgb,255:red,255; green,147; blue,0}, ->, >=Stealth] (4.75,12.75) -- (1.25,12.75)node[pos=0.5, fill=white]{Data fra ADC 1};
\draw [ color={rgb,255:red,255; green,147; blue,0}, ->, >=Stealth] (4.75,12) -- (1.25,12)node[pos=0.5, fill=white]{Data fra ADC 2};
\draw [ color={rgb,255:red,255; green,147; blue,0}, ->, >=Stealth] (4.75,11.25) -- (1.25,11.25)node[pos=0.5, fill=white]{Data fra ADC 3};
\node at (6.25,13.75) [circ, color={rgb,255:red,79; green,122; blue,40}] {};
\node at (6.25,14.75) [circ, color={rgb,255:red,79; green,122; blue,40}] {};
\draw [ color={rgb,255:red,255; green,147; blue,0}, ](4.75,11.25) to[short] (5.25,11.25);
\draw [ color={rgb,255:red,255; green,147; blue,0}, ](4.75,12) to[short] (5.25,12);
\draw [ color={rgb,255:red,255; green,147; blue,0}, ](5.5,15.25) to[short] (5.25,15.25);
\draw [ color={rgb,255:red,148; green,33; blue,146}, ](6,15.75) to[short] (5.75,15.75);
\draw [ color={rgb,255:red,148; green,33; blue,146}, ](6,8.25) to[short] (5.5,8.25);
\end{circuitikz}
}%
\caption{Figuren vier et mer detaljert blokkdiagram basert på systemoppsettet i figur \ref{block:overordna}. Den analoge dataen blir sendt fra en Analog Discovery 3 inn til ADC-ene. Fra Pi Wedgen til ADC-ene er det nå udypt hvilke utganger og innganger som er koblet til hverandre. Det er her den digitale dataen overføres. Detaljer på ADC-ene er spesifisert i seksjon \ref{subsec:exp_adc}}
\label{block:totalSystem}
\end{figure}